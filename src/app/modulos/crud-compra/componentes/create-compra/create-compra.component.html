
<div class="wrapper">
  
  
    <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputprov">Proveedor</label>
      <select  id="inputprov" class="form-control" [(ngModel)]="this.idprov" (change)="validar()">
        <option value="0" selected disabled>Choose...</option>
        <option *ngFor="let obj of proveedor" [value]="obj.ID">{{obj.ID}} {{obj.nempresa}}</option>
        
        <option >
        </option>
       
      
      
      </select>
      
    </div>
  </div>
  
  <textarea [(ngModel)]="this.obs" class="form-control z-depth-1" id="exampleFormControlTextarea6" rows="3" placeholder="Comentarios..."  
                  >
      
                  </textarea>
      <button type="submit" class="btn btn-primary mb-2" (click)="realizaCompra()" [disabled]="valida">Realizar</button>
  
    <div class="table-responsive-lg">
        <table class="table table-striped table-dark">
            <thead>
              <tr>
                <th scope="col" colspan="8" style="text-align: center;">Productos agregados</th>
                
              </tr>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Producto</th>
                <th scope="col">Cantidad</th>
                <th scope="col">Precio del proveedor</th>
                <th scope="col">Total</th>
               
               
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let obj of prod,index as i,let ultimo = last">
                 
                <td *ngIf="i!=10">{{obj.ID}}</td>
                <td *ngIf="i!=10">{{obj.nombre}}</td>
                <td *ngIf="i!=10">
                  
                  <input (blur)="salir(i)" (keyup)="actTotal($event,i)" [(ngModel)]="obj.cant" type="text" id="inputcantidad" class="form-control"  placeholder="0-9">
  
                </td>
                <td *ngIf="i!=10">{{obj.precio | number: '1.1-3' }}</td>
                <td *ngIf="i!=10">{{obj.tot | number: '1.1-3' }}</td>
                <td *ngIf="i!=10">
                  
                  
  
  
                </td>
                <td *ngIf="i!=10"><i (click)="deleteOne(i)" class="icon-trash-4 delete"></i></td>
                  
                
              </tr>
            <tr >
              <td colspan="2" style="text-align: center;">Total</td>
              <td colspan="1"></td>
              <td  colspan="1" >{{total | number: '1.1-3' }}</td>
            </tr>
            </tbody>
          </table>
    </div>      
    

</div>

<app-read-producto [cart]="true" (ev)="recep($event)" #prods></app-read-producto>

